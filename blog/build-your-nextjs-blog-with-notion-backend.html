<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Next.js blog with a Notion backend</title><meta name="og:description" content="Next.js + TypeScript + Notion (CMS) な Notion Blog で個人サイトを作った."/><meta name="og:title" content="Next.js blog with a Notion backend"/><meta property="og:image" content="https://avatars0.githubusercontent.com/u/1871262?s=400"/><meta name="twitter:site" content="@denkiwakame"/><meta name="twitter:creator" content="@denkiwakame"/><meta name="twitter:card" content="summary"/><meta name="twitter:url" content="https://denkiwakame.github.io"/><link rel="icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;⚡️&lt;/text&gt;&lt;/svg&gt;"/><meta name="next-head-count" content="11"/><link rel="preload" href="/_next/static/css/ab87e2b7da0300dafdd9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ab87e2b7da0300dafdd9.css" data-n-g=""/><link rel="preload" href="/_next/static/css/3ba92735d3ec24713100.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3ba92735d3ec24713100.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/b5f2ed29.4502610a1e2cd21030f4.js" as="script"/><link rel="preload" href="/_next/static/chunks/17.384e1f47775b20ca7c9d.js" as="script"/><link rel="preload" href="/_next/static/chunks/15.19ed95e427f0b020e09e.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-acbe2a1d0483950086ba.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.3e0dfad0cbf263c0c4a9.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.3f227e1c895e39cb7779.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-deac83b1f9d78151fc4a.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-2fe3b61fb5cc8faa1e3c.js" as="script"/><link rel="preload" href="/_next/static/chunks/cb1608f2.7455795c198376a5d1d3.js" as="script"/><link rel="preload" href="/_next/static/chunks/6bd6ae6efdef6db205175312548a04e035b50d59.9002859aca81683f8631.js" as="script"/><link rel="preload" href="/_next/static/chunks/bfa37fcd0818edd0d3354ea585e5d4d4b3e87fa4.54a90d76d8498c0c7409.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Bslug%5D-b9f9797e61b6978dc223.js" as="script"/><style id="__jsx-1397998988">pre.jsx-1397998988{tab-size:2;}code.jsx-1397998988{overflow:auto;display:block;padding:0.8rem;line-height:1.5;color:var(--fg-2);background:var(--bg-2);border-color:var(--bg-2);font-size:0.65rem;border-radius:var(--radius);}</style></head><body><div id="__next"><header class="header_header__WP9pK"><ul><li><a href="/">ABOUT</a></li><li><a href="/blog">BLOG</a></li></ul></header><div class="blog_post__39rqQ"><h1>Next.js blog with a Notion backend</h1><div class="blog_posted__2Ypb5">Posted: <!-- -->October 28, 2020</div><div class="blog_snsShare__25gZO"><button aria-label="twitter" class="react-share__ShareButton blog_snsShareButton__1wTB-" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="24" height="24"><rect width="64" height="64" rx="0" ry="0" fill="#00aced"></rect><path d="M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z" fill="white"></path></svg></button></div><div class="blog_snsShare__25gZO"><button title="Next.js blog with a Notion backend" aria-label="facebook" class="react-share__ShareButton blog_snsShareButton__1wTB-" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="24" height="24"><rect width="64" height="64" rx="0" ry="0" fill="#3b5998"></rect><path d="M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z" fill="white"></path></svg></button></div><div class="blog_snsShare__25gZO"><button aria-label="hatena" class="react-share__ShareButton blog_snsShareButton__1wTB-" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer"><svg viewBox="0 0 64 64" width="24" height="24"><rect width="64" height="64" rx="0" ry="0" fill="#009ad9"></rect><path d="M 36.164062 33.554688 C 34.988281 32.234375 33.347656 31.5 31.253906 31.34375 C 33.125 30.835938 34.476562 30.09375 35.335938 29.09375 C 36.191406 28.09375 36.609375 26.78125 36.609375 25.101562 C 36.628906 23.875 36.332031 22.660156 35.75 21.578125 C 35.160156 20.558594 34.292969 19.71875 33.253906 19.160156 C 32.304688 18.640625 31.175781 18.265625 29.847656 18.042969 C 28.523438 17.824219 26.195312 17.730469 22.867188 17.730469 L 14.769531 17.730469 L 14.769531 47.269531 L 23.113281 47.269531 C 26.46875 47.269531 28.886719 47.15625 30.367188 46.929688 C 31.851562 46.695312 33.085938 46.304688 34.085938 45.773438 C 35.289062 45.148438 36.28125 44.179688 36.933594 42.992188 C 37.597656 41.796875 37.933594 40.402344 37.933594 38.816406 C 37.933594 36.621094 37.347656 34.867188 36.164062 33.554688 Z M 22.257812 24.269531 L 23.984375 24.269531 C 25.988281 24.269531 27.332031 24.496094 28.015625 24.945312 C 28.703125 25.402344 29.042969 26.183594 29.042969 27.285156 C 29.042969 28.390625 28.664062 29.105469 27.9375 29.550781 C 27.210938 29.992188 25.84375 30.199219 23.855469 30.199219 L 22.257812 30.199219 Z M 29.121094 41.210938 C 28.328125 41.691406 26.976562 41.925781 25.078125 41.925781 L 22.257812 41.925781 L 22.257812 35.488281 L 25.195312 35.488281 C 27.144531 35.488281 28.496094 35.738281 29.210938 36.230469 C 29.925781 36.726562 30.304688 37.582031 30.304688 38.832031 C 30.304688 40.078125 29.914062 40.742188 29.105469 41.222656 Z M 29.121094 41.210938 M 46.488281 39.792969 C 44.421875 39.792969 42.742188 41.46875 42.742188 43.535156 C 42.742188 45.605469 44.421875 47.28125 46.488281 47.28125 C 48.554688 47.28125 50.230469 45.605469 50.230469 43.535156 C 50.230469 41.46875 48.554688 39.792969 46.488281 39.792969 Z M 46.488281 39.792969 M 43.238281 17.730469 L 49.738281 17.730469 L 49.738281 37.429688 L 43.238281 37.429688 Z M 43.238281 17.730469 " fill="white"></path></svg></button></div><hr/><p>Next.js + TypeScript + Notion (CMS) な Notion Blog で個人サイトを作った.</p><a href="#notion-blog-" id="notion-blog-" style="color:inherit"><h2>Notion Blog ?</h2></a><p>いわゆる静的サイトジェネレータというと現在は <a href="https://www.gatsbyjs.com/" rel="noopener" target="_blank">Gatsby</a>, <a href="https://nuxtjs.org/" rel="noopener" target="_blank">Nuxt.js</a>, <a href="https://nextjs.org/" rel="noopener" target="_blank">Next.js</a>, <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo</a>, <a href="http://jekyllrb-ja.github.io/" rel="noopener" target="_blank">Jekyll</a> ... と<a href="https://jamstack.org/generators/" rel="noopener" target="_blank">様々な選択肢</a>があるが、React ベースの Next.js を使ってみることにした.</p><blockquote>a small framework for server-rendered universal JavaScript webapps, built on top of React, Webpack and Babel, which powers this very site!</blockquote><p>Gatsby と Next.js は迷ったが、Next.js の方がよりシンプルで最小限にできており、Webpackで止まっている自分のWeb知識でもコードを読みながら実装できるように感じた.</p><p> easy に高度なことができるより、simple で壊れても自分で直せることが重要なのだ.</p><a href="#notion-as-cms" id="notion-as-cms" style="color:inherit"><h3>Notion as CMS</h3></a><p>次に何で書くかだが、Markdown レンダラを使うようなブログだと結局画像の管理や preview が面倒になる.</p><p>記事を編集する都度コミットするのが煩雑に感じ、Notion Blog が以前話題になっていたのを思い出した.</p><div style="background:var(--bg-2);padding:1em;margin-top:.5em;border-radius:var(--radius);font-family:var(--font-mono)"><a href="https://github.com/ijjk/notion-blog" target="_blank" style="color:var(--accents-1);font-size:0.8rem;font-weight:bolder">ijjk/notion-blog</a><div style="font-size:0.6rem">A Next.js site using new SSG support with a Notion backed blog</div><div style="margin-top:0.4rem;font-size:0.6rem;font-weight:bolder"><span style="font-size:0.55rem;margin:0 0.1rem 0 0">language:</span><span style="font-size:0.55rem;color:var(--accents-3);margin:0 0.4rem 0 0">TypeScript</span><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" class="svg-inline--fa fa-star fa-w-18 fa-xs " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="8"><path fill="currentColor" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg><span style="font-size:0.55rem;margin:0 0 0 0.1rem">2240</span></div></div><p>これは <a href="https://www.notion.so/" rel="noopener" target="_blank">Notion</a> をCMSとして Notion 上で書いた記事を fetch して Next.js で SSR するような構成になっているため、本体レポジトリに只管記事をコミットしていく必要がない.</p><p>また、Notion blog では Notion 上で編集した記事に flag をつけることで draft / publish の切り替えを行う実装になっており、Draftを Notion 側に貯めておくことができる.</p><p>Notion上の主要な記法（後述）はコンバート対応されているため、 Notion 上で書いた数式も KaTeX を使ってレンダリングできる</p><p><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mrow><mi>K</mi><mi>L</mi></mrow></msub><mo stretchy="false">(</mo><mi>P</mi><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>Q</mi><mo stretchy="false">)</mo><mo>=</mo><mo>∫</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>log</mtext><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><mrow><mi>q</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac><mi>d</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">D_{KL}(P||Q) = \int p(x)\text{log}\frac{p(x)}{q(x)}dx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="mord mathnormal mtight">L</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord">∣</span><span class="mord">∣</span><span class="mord mathnormal">Q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord text"><span class="mord">log</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span></span></span></span></p><p>（この記事も Notion 上で private 記事として書いている）</p><a href="#customize" id="customize" style="color:inherit"><h2>Customize</h2></a><p>Notion blog は Next.js を開発する <a href="https://vercel.com/" rel="noopener" target="_blank">Vercel</a> のエンジニアが作っているため、初めて触れる Next.js のコードベースとしては良かったように思う</p><a href="#custom-components" id="custom-components" style="color:inherit"><h3>Custom Components</h3></a><p>基本的に何か追加で欲しければ <code>react-xxx</code> や カスタムの React Components を自分で書けば良い. </p><p>とりあえず以下のようなデータを投げると勝手に自分の名前にハイライト、整形してリンクを貼るような Components などを書いたりした.</p><pre class="jsx-1397998988"><code class="jsx-1397998988"><span class="token punctuation">{</span>
    authors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Author1'</span><span class="token punctuation">,</span> <span class="token string">'Author2'</span><span class="token punctuation">,</span> <span class="token string">'MyName'</span><span class="token punctuation">,</span> <span class="token string">'Author4'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    title<span class="token operator">:</span> <span class="token string">'A Comparative Study of xxx Methods for yyy with zzz-Based Models'</span><span class="token punctuation">,</span>
    journal<span class="token operator">:</span>
      <span class="token string">'IEEE Transactions on Pattern Analysis and Machine Intelligence (TPAMI)'</span><span class="token punctuation">,</span>
    year<span class="token operator">:</span> <span class="token string">'20xx'</span><span class="token punctuation">,</span>
    links<span class="token operator">:</span> <span class="token punctuation">{</span>
      paper<span class="token operator">:</span> <span class="token string">'https://paper-link'</span><span class="token punctuation">,</span>
      projectpage<span class="token operator">:</span> <span class="token string">'https://projectpage-link'</span><span class="token punctuation">,</span>
      video<span class="token operator">:</span> <span class="token string">'https://video-link'</span><span class="token punctuation">,</span>
      slides<span class="token operator">:</span> <span class="token string">'https://slides-link'</span><span class="token punctuation">,</span>
      code<span class="token operator">:</span> <span class="token string">'https://github-link'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><a href="#custom-theme" id="custom-theme" style="color:inherit"><h3>Custom Theme</h3></a><p>Next.js の高速なビルドと最適化だけで完全に満足していたが、見た目をなんとかしなければならない. </p><p>div を狙った位置に置けないような css 力でなんとなく自分のターミナル環境に近いようなテーマを作った. </p><a href="#deploy-by-github-actions" id="deploy-by-github-actions" style="color:inherit"><h2>Deploy by GitHub Actions</h2></a><p>Notion Blog は Vercel でのビルド &amp; ホスティングを前提としているが、地味にやりたいので Github Pages 上に GitHub Actions を使ってビルド &amp; ホストするようにした.</p><p>GitHub Action 上で  <code>next build</code> &amp; <code>next export</code> を走らせ、 <code>peaceiris/actions-gh-pages@v3</code> で <code>gh-pages</code> ブランチにビルドしたコンテンツを公開している.</p><pre class="jsx-1397998988"><code class="jsx-1397998988">name<span class="token operator">:</span> deploy
on<span class="token operator">:</span>
  push<span class="token operator">:</span>
    branches<span class="token operator">:</span>
      <span class="token operator">-</span> master
jobs<span class="token operator">:</span>
  deploy<span class="token operator">:</span>
    runs<span class="token operator">-</span>on<span class="token operator">:</span> ubuntu<span class="token operator">-</span>latest
    steps<span class="token operator">:</span>
      <span class="token operator">-</span> uses<span class="token operator">:</span> actions<span class="token operator">/</span>checkout@v2
      <span class="token operator">-</span> name<span class="token operator">:</span> Use Node<span class="token punctuation">.</span>js <span class="token number">12</span>
        uses<span class="token operator">:</span> actions<span class="token operator">/</span>setup<span class="token operator">-</span>node@v1
        <span class="token keyword">with</span><span class="token operator">:</span>
          node<span class="token operator">-</span>version<span class="token operator">:</span> <span class="token number">12</span>
      <span class="token operator">-</span> name<span class="token operator">:</span> install
        run<span class="token operator">:</span> <span class="token operator">|</span>
          yarn install
      <span class="token operator">-</span> name<span class="token operator">:</span> build
        run<span class="token operator">:</span> <span class="token operator">|</span>
          yarn build
        env<span class="token operator">:</span>
          <span class="token constant">GITHUB_PAGES</span><span class="token operator">:</span> <span class="token boolean">true</span>
          <span class="token constant">NOTION_TOKEN</span><span class="token operator">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span>secrets<span class="token punctuation">.</span><span class="token constant">NOTION_TOKEN</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token constant">BLOG_INDEX_ID</span><span class="token operator">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span>secrets<span class="token punctuation">.</span><span class="token constant">BLOG_INDEX_ID</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token operator">-</span> name<span class="token operator">:</span> <span class="token keyword">export</span>
        run<span class="token operator">:</span> <span class="token operator">|</span>
          yarn <span class="token keyword">export</span>
          touch out<span class="token operator">/</span><span class="token punctuation">.</span>nojekyll
        env<span class="token operator">:</span>
          <span class="token constant">NOTION_TOKEN</span><span class="token operator">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span>secrets<span class="token punctuation">.</span><span class="token constant">NOTION_TOKEN</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token constant">BLOG_INDEX_ID</span><span class="token operator">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span>secrets<span class="token punctuation">.</span><span class="token constant">BLOG_INDEX_ID</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
      <span class="token operator">-</span> name<span class="token operator">:</span> deploy
        uses<span class="token operator">:</span> peaceiris<span class="token operator">/</span>actions<span class="token operator">-</span>gh<span class="token operator">-</span>pages@v3
        <span class="token keyword">with</span><span class="token operator">:</span>
          <span class="token constant">PERSONAL_TOKEN</span><span class="token operator">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets<span class="token punctuation">.</span><span class="token constant">PERSONAL_TOKEN</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token constant">PUBLISH_DIR</span><span class="token operator">:</span> <span class="token punctuation">.</span><span class="token operator">/</span>out</code></pre><a href="#summary" id="summary" style="color:inherit"><h2>Summary</h2></a><p>Next.js 自体はとても良い. しかし Notion Blog に関しては、</p><ul><li>Notion の非公式APIを利用している</li><li>サポートしているBLOCKが限定的で、自分でコンバータを書く必要がある（書いた）</li><li>Notion自体がまた有料化する可能性もある</li><li>Notion自体が微妙に書き辛い（<a href="https://scrapbox.io" rel="noopener" target="_blank">scrapbox</a> と比較して）</li></ul><p>ということから、圧倒的に良いとまでは感じなかった.</p><p>自作の React Components 等はまた流用できるため、何かあればまた移行しようと思う.</p><div style="background:var(--bg-2);padding:1em;margin-top:.5em;border-radius:var(--radius);font-family:var(--font-mono)"><a href="https://github.com/denkiwakame/denkiwakame.github.io" target="_blank" style="color:var(--accents-1);font-size:0.8rem;font-weight:bolder">denkiwakame/denkiwakame.github.io</a><div style="font-size:0.6rem">source code of https://denkiwakame.github.io</div><div style="margin-top:0.4rem;font-size:0.6rem;font-weight:bolder"><span style="font-size:0.55rem;margin:0 0.1rem 0 0">language:</span><span style="font-size:0.55rem;color:var(--accents-3);margin:0 0.4rem 0 0">TypeScript</span><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" class="svg-inline--fa fa-star fa-w-18 fa-xs " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="8"><path fill="currentColor" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg><span style="font-size:0.55rem;margin:0 0 0 0.1rem">1</span></div></div></div><footer><span>© 2020 Mai Nishimura powered by<!-- --> <a href="https://github.com/ijjk/notion-blog" target="_blank">Notion Blog</a></span></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"454033ea-fb74-40f2-9aae-4667872e9843","Published":"Yes","Authors":["Mai Nishimura"],"Slug":"build-your-nextjs-blog-with-notion-backend","Date":1603843200792,"Page":"Next.js blog with a Notion backend","preview":[[["Next.js + TypeScript + Notion (CMS) な Notion Blog で個人サイトを作った."]]],"content":[{"role":"editor","value":{"id":"c0b34864-dcb9-4128-9b8d-b7c5d76e1946","version":714,"type":"text","properties":{"title":[["Next.js + TypeScript + Notion (CMS) な Notion Blog で個人サイトを作った."]]},"created_time":1603648320000,"last_edited_time":1603886100000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"8b0a5b18-4eae-4bb9-9c0d-f91cd0a071f3","version":7,"type":"divider","created_time":1603649084073,"last_edited_time":1603649040000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"8d482006-10ba-4632-a39d-517a7611762a","version":31,"type":"sub_header","properties":{"title":[["Notion Blog ?"]]},"created_time":1603886174283,"last_edited_time":1609962420000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"414125c4-8ec6-4712-ba09-ec49c26f0028","version":702,"type":"text","properties":{"title":[["いわゆる静的サイトジェネレータというと現在は "],["Gatsby",[["a","https://www.gatsbyjs.com/"]]],[", "],["Nuxt.js",[["a","https://nuxtjs.org/"]]],[", "],["Next.js",[["a","https://nextjs.org/"]]],[", "],["Hugo",[["a","https://gohugo.io/"]]],[", "],["Jekyll",[["a","http://jekyllrb-ja.github.io/"]]],[" ... と"],["様々な選択肢",[["a","https://jamstack.org/generators/"]]],["があるが、React ベースの Next.js を使ってみることにした."]]},"created_time":1603886340000,"last_edited_time":1603888320000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"4e376f96-472e-4d8e-8216-2fffacddb7ae","version":13,"type":"quote","properties":{"title":[["a small framework for server-rendered universal JavaScript webapps, built on top of React, Webpack and Babel, which powers this very site!"]]},"created_time":1603888639406,"last_edited_time":1603888980000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"6c700ae6-5e3d-4233-b564-1e10e00d248c","version":273,"type":"text","properties":{"title":[["Gatsby と Next.js は迷ったが、Next.js の方がよりシンプルで最小限にできており、Webpackで止まっている自分のWeb知識でもコードを読みながら実装できるように感じた."]]},"created_time":1603888320000,"last_edited_time":1603893360000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"2cea2f50-e792-4de9-8401-ae8021a9fad6","version":9,"type":"text","properties":{"title":[[" easy に高度なことができるより、simple で壊れても自分で直せることが重要なのだ."]]},"created_time":1603893360000,"last_edited_time":1603893360000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"8de55044-5d0e-4416-92ee-d70335de60f3","version":49,"type":"sub_sub_header","properties":{"title":[["Notion as CMS"]]},"created_time":1603886180822,"last_edited_time":1603888980000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"eb33d47f-1a58-4a44-a3f8-a69d25640ab0","version":747,"type":"text","properties":{"title":[["次に何で書くかだが、Markdown レンダラを使うようなブログだと結局画像の管理や preview が面倒になる."]]},"created_time":1603889760000,"last_edited_time":1603893360000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"46bdf626-41f3-4133-9574-606c25f6a6f3","version":9,"type":"text","properties":{"title":[["記事を編集する都度コミットするのが煩雑に感じ、Notion Blog が以前話題になっていたのを思い出した."]]},"created_time":1603893360000,"last_edited_time":1603893360000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"759ca67f-2c66-4361-a344-26b5fa1b70dc","version":13,"type":"bookmark","properties":{"link":[["https://github.com/ijjk/notion-blog"]],"title":[["ijjk/notion-blog"]],"description":"A Next.js site using new SSG support with a Notion backed blog","img":"https://avatars.githubusercontent.com/u/22380829?v=4","star":2240,"language":"TypeScript"},"format":{"bookmark_icon":"https://github.com/favicon.ico","bookmark_cover":"https://avatars0.githubusercontent.com/u/22380829?s=400\u0026v=4"},"created_time":1603889520000,"last_edited_time":1603889520000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"92c99a9b-62b3-4b52-ba94-78310d8e9c66","version":844,"type":"text","properties":{"title":[["これは "],["Notion",[["a","https://www.notion.so/"]]],[" をCMSとして Notion 上で書いた記事を fetch して Next.js で SSR するような構成になっているため、本体レポジトリに只管記事をコミットしていく必要がない."]]},"created_time":1603889700000,"last_edited_time":1603891800000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"a5480d70-60e8-447a-b9ee-4d1696dd9241","version":794,"type":"text","properties":{"title":[["また、Notion blog では Notion 上で編集した記事に flag をつけることで draft / publish の切り替えを行う実装になっており、Draftを Notion 側に貯めておくことができる."]]},"created_time":1603890240000,"last_edited_time":1603891860000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"d266c3ac-3c5a-4fc4-b335-27a60f70278d","version":149,"type":"text","properties":{"title":[["Notion上の主要な記法（後述）はコンバート対応されているため、 Notion 上で書いた数式も KaTeX を使ってレンダリングできる"]]},"created_time":1603891800000,"last_edited_time":1603893600000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"b82834c6-2c01-4255-8956-d0990fec4715","version":9,"type":"text","created_time":1603891920000,"last_edited_time":1603891920000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"61edf61f-2e48-4856-85ee-72ba3165438f","version":15,"type":"text","properties":{"title":[["⁍",[["e","D_{KL}(P||Q) = \\int p(x)\\text{log}\\frac{p(x)}{q(x)}dx"]]]]},"created_time":1603890780000,"last_edited_time":1603890900000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"5afef1f8-30da-4037-8794-1bce80f28756","version":17,"type":"text","created_time":1603891920000,"last_edited_time":1603891920000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"6994a915-a23a-4d67-8a76-a2ed77c88961","version":3,"type":"text","properties":{"title":[["（この記事も Notion 上で private 記事として書いている）"]]},"created_time":1603890960000,"last_edited_time":1603891920000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"88dca8ca-71fd-477b-ba28-b3f1ab6c4de7","version":23,"type":"sub_header","properties":{"title":[["Customize"]]},"created_time":1603732335603,"last_edited_time":1603891320000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"c6873db3-60ab-442b-977d-a4211df0d1f1","version":296,"type":"text","properties":{"title":[["Notion blog は Next.js を開発する "],["Vercel",[["a","https://vercel.com/"]]],[" のエンジニアが作っているため、初めて触れる Next.js のコードベースとしては良かったように思う"]]},"created_time":1603891320000,"last_edited_time":1603894920000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"c4089329-f1bb-4de8-9a4d-098274aac1f7","version":34,"type":"sub_sub_header","properties":{"title":[["Custom Components"]]},"created_time":1603891356205,"last_edited_time":1603891440000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"5b3027d1-c24a-4daa-bb9d-d388cc6c164d","version":626,"type":"text","properties":{"title":[["基本的に何か追加で欲しければ "],["react-xxx",[["c"]]],[" や カスタムの React Components を自分で書けば良い. "]]},"created_time":1603891440000,"last_edited_time":1603896300000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"be0ddd5c-ed10-44c4-8ec5-c3a71f0d420e","version":9,"type":"text","properties":{"title":[["とりあえず以下のようなデータを投げると勝手に自分の名前にハイライト、整形してリンクを貼るような Components などを書いたりした."]]},"created_time":1603896300000,"last_edited_time":1603896300000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"c106e0b9-adec-44e2-a8a4-8ee8b7940862","version":11,"type":"code","properties":{"title":[["{\n    authors: ['Author1', 'Author2', 'MyName', 'Author4'],\n    title: 'A Comparative Study of xxx Methods for yyy with zzz-Based Models',\n    journal:\n      'IEEE Transactions on Pattern Analysis and Machine Intelligence (TPAMI)',\n    year: '20xx',\n    links: {\n      paper: 'https://paper-link',\n      projectpage: 'https://projectpage-link',\n      video: 'https://video-link',\n      slides: 'https://slides-link',\n      code: 'https://github-link',\n    },\n  },"]],"language":[["JSON"]]},"created_time":1603725456063,"last_edited_time":1603725420000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"4f31b155-0278-422a-96dd-4883d5c71804","version":24,"type":"sub_sub_header","properties":{"title":[["Custom Theme"]]},"created_time":1603892205792,"last_edited_time":1603892580000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"fc77255a-6eb6-43d0-8d75-cb3b4eec36f0","version":678,"type":"text","properties":{"title":[["Next.js の高速なビルドと最適化だけで完全に満足していたが、見た目をなんとかしなければならない. "]]},"created_time":1603892160000,"last_edited_time":1603893300000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"8cab68ea-ada3-4919-aa4f-6bc035f9f4bf","version":71,"type":"text","properties":{"title":[["div を狙った位置に置けないような css 力でなんとなく自分のターミナル環境に近いようなテーマを作った. "]]},"created_time":1603893300000,"last_edited_time":1603894980000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"ae2a8e67-67cb-499d-a585-bae595d75dff","version":53,"type":"sub_header","properties":{"title":[["Deploy by GitHub Actions"]]},"created_time":1603745768532,"last_edited_time":1603892340000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"5951977b-e924-4ba9-bf17-479badd4c94c","version":354,"type":"text","properties":{"title":[["Notion Blog は Vercel でのビルド \u0026 ホスティングを前提としているが、地味にやりたいので Github Pages 上に GitHub Actions を使ってビルド \u0026 ホストするようにした."]]},"created_time":1603885425221,"last_edited_time":1603893300000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"7ef69c44-6e03-488c-b654-17617a509264","version":218,"type":"text","properties":{"title":[["GitHub Action 上で  "],["next build",[["c"]]],[" \u0026 "],["next export",[["c"]]],[" を走らせ、 "],["peaceiris/actions-gh-pages@v3",[["c"]]],[" で "],["gh-pages",[["c"]]],[" ブランチにビルドしたコンテンツを公開している."]]},"created_time":1603892460000,"last_edited_time":1603892580000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"73389c0c-d2b2-494e-8cf2-0dab69b91e45","version":107,"type":"code","properties":{"title":[["name: deploy\non:\n  push:\n    branches:\n      - master\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - name: Use Node.js 12\n        uses: actions/setup-node@v1\n        with:\n          node-version: 12\n      - name: install\n        run: |\n          yarn install\n      - name: build\n        run: |\n          yarn build\n        env:\n          GITHUB_PAGES: true\n          NOTION_TOKEN: ${{secrets.NOTION_TOKEN}}\n          BLOG_INDEX_ID: ${{secrets.BLOG_INDEX_ID}}\n      - name: export\n        run: |\n          yarn export\n          touch out/.nojekyll\n        env:\n          NOTION_TOKEN: ${{secrets.NOTION_TOKEN}}\n          BLOG_INDEX_ID: ${{secrets.BLOG_INDEX_ID}}\n      - name: deploy\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          PERSONAL_TOKEN: ${{ secrets.PERSONAL_TOKEN }}\n          PUBLISH_DIR: ./out"]],"language":[["YAML"]]},"created_time":1603712472156,"last_edited_time":1603892520000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"7601c121-ab16-4036-8f84-c4a295fec904","version":31,"type":"sub_header","properties":{"title":[["Summary"]]},"created_time":1603892594002,"last_edited_time":1609943280000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"648623eb-9500-4827-9966-e73f2a73bf53","version":102,"type":"text","properties":{"title":[["Next.js 自体はとても良い. しかし Notion Blog に関しては、"]]},"created_time":1603892580000,"last_edited_time":1603892700000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"4d0efde5-68a8-404b-b56c-477b2c47f838","version":85,"type":"bulleted_list","properties":{"title":[["Notion の非公式APIを利用している"]]},"created_time":1603892751720,"last_edited_time":1603892760000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"9fa84113-b3e9-494b-bb8d-6ee00a5bb882","version":33,"type":"bulleted_list","properties":{"title":[["サポートしているBLOCKが限定的で、自分でコンバータを書く必要がある（書いた）"]]},"created_time":1603893120000,"last_edited_time":1603893420000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"8787e555-15f4-4231-9250-28e2cb7ad904","version":75,"type":"bulleted_list","properties":{"title":[["Notion自体がまた有料化する可能性もある"]]},"created_time":1603892760000,"last_edited_time":1603893120000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"e9b9bb4c-f05f-4df5-8695-9ba6e2de5a81","version":109,"type":"bulleted_list","properties":{"title":[["Notion自体が微妙に書き辛い（"],["scrapbox",[["a","https://scrapbox.io"]]],[" と比較して）"]]},"created_time":1603893120000,"last_edited_time":1603893120000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"b308a7a8-2881-4eed-9a8b-3dbcca1d2e12","version":103,"type":"text","properties":{"title":[["ということから、圧倒的に良いとまでは感じなかった."]]},"created_time":1603892820000,"last_edited_time":1603893000000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"851c38a1-0a02-4a7a-b562-4186315e18d6","version":469,"type":"text","properties":{"title":[["自作の React Components 等はまた流用できるため、何かあればまた移行しようと思う."]]},"created_time":1603892820000,"last_edited_time":1603893180000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"e1f619ad-4264-4abf-8d0a-a34519ea2b1b","version":14,"type":"bookmark","properties":{"link":[["https://github.com/denkiwakame/denkiwakame.github.io"]],"title":[["denkiwakame/denkiwakame.github.io"]],"description":"source code of https://denkiwakame.github.io","img":"https://avatars.githubusercontent.com/u/1871262?v=4","star":1,"language":"TypeScript"},"format":{"bookmark_icon":"https://github.com/favicon.ico","bookmark_cover":"https://avatars3.githubusercontent.com/u/1871262?s=400\u0026v=4"},"created_time":1603805460000,"last_edited_time":1603805460000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}},{"role":"editor","value":{"id":"ede09b37-0b36-420e-9f94-03abe19c6584","version":8,"type":"text","created_time":1603892040000,"last_edited_time":1603892040000,"parent_id":"454033ea-fb74-40f2-9aae-4667872e9843","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","last_edited_by_table":"notion_user","last_edited_by_id":"8ed7f006-a5ae-48f7-974a-578ff0e45755","space_id":"073d164e-c7ee-46f7-b28e-ac8326c08157"}}]},"preview":false},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"build-your-nextjs-blog-with-notion-backend"},"buildId":"eQjqcliqLKs05Bw2RzqL7","runtimeConfig":{},"isFallback":false,"dynamicIds":["3zRB","F1I5"],"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-4f4acd756cef4fe6da1b.js"></script><script async="" src="/_next/static/chunks/b5f2ed29.4502610a1e2cd21030f4.js"></script><script async="" src="/_next/static/chunks/17.384e1f47775b20ca7c9d.js"></script><script async="" src="/_next/static/chunks/15.19ed95e427f0b020e09e.js"></script><script src="/_next/static/chunks/webpack-acbe2a1d0483950086ba.js" async=""></script><script src="/_next/static/chunks/framework.3e0dfad0cbf263c0c4a9.js" async=""></script><script src="/_next/static/chunks/commons.3f227e1c895e39cb7779.js" async=""></script><script src="/_next/static/chunks/main-deac83b1f9d78151fc4a.js" async=""></script><script src="/_next/static/chunks/pages/_app-2fe3b61fb5cc8faa1e3c.js" async=""></script><script src="/_next/static/chunks/cb1608f2.7455795c198376a5d1d3.js" async=""></script><script src="/_next/static/chunks/6bd6ae6efdef6db205175312548a04e035b50d59.9002859aca81683f8631.js" async=""></script><script src="/_next/static/chunks/bfa37fcd0818edd0d3354ea585e5d4d4b3e87fa4.54a90d76d8498c0c7409.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-b9f9797e61b6978dc223.js" async=""></script><script src="/_next/static/eQjqcliqLKs05Bw2RzqL7/_buildManifest.js" async=""></script><script src="/_next/static/eQjqcliqLKs05Bw2RzqL7/_ssgManifest.js" async=""></script></body></html>